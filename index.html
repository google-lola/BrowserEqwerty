<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<title>ChromeBios</title>
<link rel="icon" type="image/x-icon" href="addrolawebpag.ico" sizes="32x32">
<style>
  body {
    margin: 0;
    font-family: sans-serif;
    color: white;
    background: url('wallparer.ico') no-repeat center center fixed;
    background-size: cover;
  }
  body::before {
    content: "";
    position: fixed;
    top: 0; left: 0;
    width: 100%; height: 100%;
    background: rgba(0,0,0,0.4);
    backdrop-filter: blur(8px);
    z-index: -1;
  }
  #tabs { display: flex; background: rgba(51, 51, 51, 0.8); padding: 5px; overflow-x: auto; }
  .tab { padding: 5px 10px; background: rgba(68, 68, 68, 0.8); margin-right: 5px; border-radius: 4px; cursor: pointer; }
  .tab.active { background: rgba(102, 102, 102, 0.9); }
  #controls { display: flex; padding: 5px; background: rgba(34, 34, 34, 0.8); }
  #url { flex: 1; padding: 5px; border: none; outline: none; border-radius: 4px; }
  #go, #newtab, #clear { padding: 5px; margin-left: 5px; background: rgba(85, 85, 85, 0.8); color: white; border: none; cursor: pointer; border-radius: 4px; }
  #clear img { width: 18px; height: 18px; vertical-align: middle; }
  iframe { width: 100%; height: calc(100vh - 70px); border: none; background: white; }
</style>
</head>
<body>

<div id="tabs"></div>
<div id="controls">
  <input id="url" placeholder="Введите адрес..." />
  <button id="go">Go</button>
  <button id="newtab">+</button>
  <button id="clear"><img src="https://cdn-icons-png.flaticon.com/512/12598/12598679.png" alt="Clear"></button>
</div>
<iframe id="view"></iframe>

<script>
let tabs = JSON.parse(localStorage.getItem('tabs')) || [{ title: 'Новая вкладка', url: 'about:blank' }];
let activeTab = 0;

function renderTabs() {
  const tabsDiv = document.getElementById('tabs');
  tabsDiv.innerHTML = '';
  tabs.forEach((tab, i) => {
    const el = document.createElement('div');
    el.className = 'tab' + (i === activeTab ? ' active' : '');
    el.textContent = tab.title || tab.url;
    el.onclick = () => { activeTab = i; loadTab(); };
    tabsDiv.appendChild(el);
  });
}

function loadTab() {
  document.getElementById('url').value = tabs[activeTab].url;
  document.getElementById('view').src = tabs[activeTab].url;
  renderTabs();
  saveTabs();
}

function saveTabs() {
  localStorage.setItem('tabs', JSON.stringify(tabs));
}

document.getElementById('go').onclick = () => {
  let url = document.getElementById('url').value;
  if (!url.startsWith('http')) url = 'https://' + url;
  tabs[activeTab].url = url;
  try {
    tabs[activeTab].title = new URL(url).hostname;
  } catch {
    tabs[activeTab].title = url;
  }
  loadTab();
};

document.getElementById('newtab').onclick = () => {
  tabs.push({ title: 'Новая вкладка', url: 'about:blank' });
  activeTab = tabs.length - 1;
  loadTab();
};

document.getElementById('clear').onclick = () => {
  if (confirm('Удалить все вкладки?')) {
    tabs = [{ title: 'Новая вкладка', url: 'about:blank' }];
    activeTab = 0;
    saveTabs();
    loadTab();
  }
};

loadTab();
</script>

</body>
</html>
